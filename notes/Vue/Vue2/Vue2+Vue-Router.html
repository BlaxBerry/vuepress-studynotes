<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue2 + Vue-Router | BlaxBerry</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Chen's Program Study Note">
    
    <link rel="preload" href="/vuepress-studynotes/assets/css/0.styles.6ab362df.css" as="style"><link rel="preload" href="/vuepress-studynotes/assets/js/app.3908c0c2.js" as="script"><link rel="preload" href="/vuepress-studynotes/assets/js/2.4e3782e5.js" as="script"><link rel="preload" href="/vuepress-studynotes/assets/js/61.d8af299a.js" as="script"><link rel="prefetch" href="/vuepress-studynotes/assets/js/10.c6f73613.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/11.63dae492.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/12.3cb23870.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/13.3628705c.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/14.5a177f19.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/15.c79e5b43.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/16.fb723d3e.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/17.f8d8d6aa.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/18.a67f24e9.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/19.30f32bd0.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/20.c41d3929.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/21.00146b1a.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/22.eb577a06.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/23.219de873.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/24.a18dcd5e.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/25.7689d549.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/26.13d948e9.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/27.45107160.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/28.a2b259da.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/29.3d156e4f.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/3.4307b243.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/30.49ef3902.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/31.e1d6b98e.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/32.f6c54f1c.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/33.52c8dba4.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/34.719bbd19.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/35.f0bc75a1.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/36.6d59d549.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/37.917e8cf6.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/38.d692b05a.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/39.80ab50da.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/4.eae2ed54.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/40.1465f016.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/41.5adba898.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/42.2acb4401.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/43.9c3a79cf.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/44.d499e570.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/45.3dd7a0ed.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/46.419ff4a3.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/47.f8ba476e.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/48.12753df8.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/49.733b431d.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/5.f5d2ae05.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/50.7825f4b9.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/51.2ddd4db1.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/52.9ebc212c.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/53.d3e5715c.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/54.f78d5724.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/55.ec7de4a9.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/56.0cf1235f.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/57.727e6ec6.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/58.bb09d535.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/59.ce0f4d1b.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/6.8bf2eab4.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/60.743cc7ea.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/62.cf8e7484.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/63.9162680e.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/64.5fa0b900.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/65.5109aa22.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/66.08ff18d8.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/67.7f06803c.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/68.547cbc2d.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/69.5806809e.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/7.1c9e1e68.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/8.1a167186.js"><link rel="prefetch" href="/vuepress-studynotes/assets/js/9.ae4a524d.js">
    <link rel="stylesheet" href="/vuepress-studynotes/assets/css/0.styles.6ab362df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-studynotes/" class="home-link router-link-active"><img src="/vuepress-studynotes/logo.jpg" alt="BlaxBerry" class="logo"> <span class="site-name can-hide">BlaxBerry</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-studynotes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/vuepress-studynotes/guide/" class="nav-link">
  Catalog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Hot" class="dropdown-title"><span class="title">Hot</span> <span class="arrow down"></span></button> <button type="button" aria-label="Hot" class="mobile-dropdown-title"><span class="title">Hot</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Front-End
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/Javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/Vue/" class="nav-link router-link-active">
  Vue.js
</a></li><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/React/" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          Server-Side
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/Nodejs/" class="nav-link">
  Node.js
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://blaxberry.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portfolio
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/BlaxBerry/vuepress-studynotes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-studynotes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/vuepress-studynotes/guide/" class="nav-link">
  Catalog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Hot" class="dropdown-title"><span class="title">Hot</span> <span class="arrow down"></span></button> <button type="button" aria-label="Hot" class="mobile-dropdown-title"><span class="title">Hot</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Front-End
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/Javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/Vue/" class="nav-link router-link-active">
  Vue.js
</a></li><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/React/" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          Server-Side
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-studynotes/notes/Nodejs/" class="nav-link">
  Node.js
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://blaxberry.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portfolio
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/BlaxBerry/vuepress-studynotes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue2 + Vue-Router</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由器、路由、路由组件" class="sidebar-link">路由器、路由、路由组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由-与-路由器" class="sidebar-link">路由 与 路由器</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由组件" class="sidebar-link">路由组件</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#vue-router安装配置" class="sidebar-link">Vue-Router安装配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#配置路由器" class="sidebar-link">配置路由器</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由器模式" class="sidebar-link">路由器模式</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由组件懒加载" class="sidebar-link">路由组件懒加载</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由导航" class="sidebar-link">路由导航</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#声明式导航" class="sidebar-link">声明式导航</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#编程式导航" class="sidebar-link">编程式导航</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由视图" class="sidebar-link">路由视图</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由配置项" class="sidebar-link">路由配置项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#嵌套路由" class="sidebar-link">嵌套路由</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由参数" class="sidebar-link">路由参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#query" class="sidebar-link">query</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#params" class="sidebar-link">params</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#props-接收参数" class="sidebar-link">props 接收参数</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#缓存路由组件" class="sidebar-link">缓存路由组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#keep-alive-缓存路由组件" class="sidebar-link">keep-alive 缓存路由组件</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由新增生命周期" class="sidebar-link">路由新增生命周期</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由守卫-重要" class="sidebar-link">路由守卫（重要）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#全局守卫" class="sidebar-link">全局守卫</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#独享守卫" class="sidebar-link">独享守卫</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#组件内守卫" class="sidebar-link">组件内守卫</a></li></ul></li><li><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#其余补充" class="sidebar-link">其余补充</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#防止重复点击相同路由" class="sidebar-link">防止重复点击相同路由</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#过渡动画切换路由" class="sidebar-link">过渡动画切换路由</a></li><li class="sidebar-sub-header"><a href="/vuepress-studynotes/notes/Vue/Vue2/Vue2+Vue-Router.html#路由切换前页面滚回顶部" class="sidebar-link">路由切换前页面滚回顶部</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue2-vue-router"><a href="#vue2-vue-router" class="header-anchor">#</a> Vue2 + Vue-Router</h1> <p><img src="https://reffect.co.jp/wp-content/uploads/2019/09/vue_router.png" alt=""></p> <p>Vue-Router，是用来实现 <strong>SPA</strong>（单页面应用）的路由管理器，监控URL路径并匹配渲染对应的路由组件</p> <blockquote><p>SPA单页面应用（<strong>S</strong>ingle <strong>P</strong>age Web <strong>A</strong>pplication）只有一个页面，通过切换URL地址来控制页面组件的切换，不产生浏览器页面跳转，只是改变URL路径，数据通过Ajax请求获取</p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#路由器、路由、路由组件">路由器、路由、路由组件</a><ul><li><a href="#路由-与-路由器">路由 与 路由器</a></li><li><a href="#路由组件">路由组件</a></li></ul></li><li><a href="#vue-router安装配置">Vue-Router安装配置</a><ul><li><a href="#配置路由器">配置路由器</a></li><li><a href="#路由器模式">路由器模式</a></li><li><a href="#路由组件懒加载">路由组件懒加载</a></li></ul></li><li><a href="#路由导航">路由导航</a><ul><li><a href="#声明式导航">声明式导航</a></li><li><a href="#编程式导航">编程式导航</a></li></ul></li><li><a href="#路由视图">路由视图</a></li><li><a href="#路由配置项">路由配置项</a><ul><li><a href="#嵌套路由">嵌套路由</a></li></ul></li><li><a href="#路由参数">路由参数</a><ul><li><a href="#query">query</a></li><li><a href="#params">params</a></li><li><a href="#props-接收参数">props 接收参数</a></li></ul></li><li><a href="#缓存路由组件">缓存路由组件</a><ul><li><a href="#keep-alive-缓存路由组件">keep-alive 缓存路由组件</a></li><li><a href="#路由新增生命周期">路由新增生命周期</a></li></ul></li><li><a href="#路由守卫-重要">路由守卫（重要）</a><ul><li><a href="#全局守卫">全局守卫</a></li><li><a href="#独享守卫">独享守卫</a></li><li><a href="#组件内守卫">组件内守卫</a></li></ul></li><li><a href="#其余补充">其余补充</a><ul><li><a href="#防止重复点击相同路由">防止重复点击相同路由</a></li><li><a href="#过渡动画切换路由">过渡动画切换路由</a></li><li><a href="#路由切换前页面滚回顶部">路由切换前页面滚回顶部</a></li></ul></li></ul></div><p></p> <h2 id="路由器、路由、路由组件"><a href="#路由器、路由、路由组件" class="header-anchor">#</a> 路由器、路由、路由组件</h2> <h3 id="路由-与-路由器"><a href="#路由-与-路由器" class="header-anchor">#</a> 路由 与 路由器</h3> <div class="custom-block tip"><p class="custom-block-title">路由 与 路由器：</p> <ul><li><p><strong>Router：路由管理器</strong> <br>
控制管理多个路由</p></li> <li><p><strong>Route：路由</strong> <br>
一组<code>key-value</code>对应关系，<code>key</code>为URL路径<br></p> <ul><li><strong>前端路由</strong>：<code>value</code>是对应路径的<strong>路由组件</strong></li> <li><strong>后端路由</strong>：<code>value</code>是对应请求路径的<strong>处理函数</strong></li></ul></li></ul></div> <h3 id="路由组件"><a href="#路由组件" class="header-anchor">#</a> 路由组件</h3> <div class="custom-block tip"><p class="custom-block-title">一般组件 与 路由组件：</p> <ul><li><p><strong>一般组件</strong>：存放在<code>src/components</code></p></li> <li><p><strong>路由组件</strong>：通过前端路由匹配渲染的组件<br>
存放在<code>src/views</code> 或 <code>src/pages</code></p></li></ul></div> <hr> <h4 id="路由组件的挂载销毁"><a href="#路由组件的挂载销毁" class="header-anchor">#</a> 路由组件的挂载销毁</h4> <p>路由组件的切换是组件挂载、组件销毁的切换，</p> <p>可通过生命周期验证：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeDestory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'该路由组件将要被销毁'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'该路由组加载完毕了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>若不想在路由更换时组件销毁导致输入页面的数据被清空<br>
需要借助 <strong><code>&lt;keep-alive&gt;</code></strong> 标签，详见 <a href="#%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6">路由组件数据缓存</a></p></li> <li><p>若想获取路由组件的激活状态，可借助两个新的生命周期函数<br>
详见 <a href="#%E8%B7%AF%E7%94%B1%E6%96%B0%E5%A2%9E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">路由新增的两个生命周期</a></p></li></ul> <hr> <h4 id="route、-router-属性"><a href="#route、-router-属性" class="header-anchor">#</a> $route、$router 属性</h4> <p>挂载完毕的路由组件上，新增两个属性<code>$route</code>、<code>$router</code></p> <div class="custom-block tip"><p class="custom-block-title">$route 与 $router</p> <ul><li><p><strong><code>$route</code></strong>：配置给该路由的路由规则（配置信息）<br>
详见 <a href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA">声明式路由导航</a></p></li> <li><p><strong><code>$router</code></strong>：路由器<br>
详见 <a href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA">编程式路由导航</a> 与 <a href="#%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82">路由传参</a></p></li></ul></div> <h2 id="vue-router安装配置"><a href="#vue-router安装配置" class="header-anchor">#</a> Vue-Router安装配置</h2> <h3 id="配置路由器"><a href="#配置路由器" class="header-anchor">#</a> 配置路由器</h3> <p><strong>1. 安装路由器</strong></p> <p>Vue脚手架开启项目时通过配置项自动配置路由器，</p> <p>或手动安装配置Vue-Router</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i vue-router
</code></pre></div><p><strong>2. 配置路由器的路由</strong></p> <p>在脚手架下的 <code>/src/router/index.js</code> 文件内配置路由器对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">// 导入组件</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../views/Home.vue'</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../views/About.vue'</span>

<span class="token comment">// 创建路由器</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 配置路由</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>3. 暴露并导入</strong></p> <p>将路由器暴露出，并导入<code>mian.js</code>  文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router/index.js'</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="路由器模式"><a href="#路由器模式" class="header-anchor">#</a> 路由器模式</h3> <p>默认开启Hash模式</p> <p>可通过路由器 <code>router</code>的 <code>mode配置项</code> 修改路由模式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token comment">/* 路由配置 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token comment">/* 路由配置 */</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">路由器模式的两种模式：</p> <ul><li><strong>Hash模式</strong></li></ul> <p>Hash模式的路由地址会带有 <code>#</code></p> <blockquote><ul><li>虽然Hash模式带有<code>#</code> 不美观但是兼容性好，不过项目上线不常用</li> <li>Hash值不包含在请求中，即<code>#</code>即其后的URL路径不会做为HTTP请求的一部分随着域名端口号发给服务器，仅前端使用</li> <li>带有 <code>#</code> 的地址通过第三方手机app分享时，若app校验严格时地址会被视作非法</li></ul></blockquote> <hr> <ul><li><strong>History模式</strong></li></ul> <p>History模式的路由地址不带有 <code>#</code></p> <blockquote><ul><li>History模式的兼容性略差，但是美观，项目上线常用</li> <li>History模式会有静态资源<strong>404问题</strong>，嵌套路由的路径也会被做为HTTP请求的一部分发给服务器，从而导致资源找不到404问题，需要后端配合对路径和资源进行匹配来解决，比如：在<strong>Node.js</strong> 中通过中间件 <strong><a href="https://github.com/bripkens/connect-history-api-fallback" target="_blank" rel="noopener noreferrer">connect-history-api-fallback<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> 解决History模式404问题、或通过Nginx</li></ul></blockquote></div> <h3 id="路由组件懒加载"><a href="#路由组件懒加载" class="header-anchor">#</a> 路由组件懒加载</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'XXX'</span>
  path<span class="token operator">:</span> <span class="token string">'/xxx'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../XXX.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="路由导航"><a href="#路由导航" class="header-anchor">#</a> 路由导航</h2> <p>即前端路由，不发生网络请求，不产生页面跳转</p> <p>是根据路由（URL路径）的不同渲染指定的路由组件</p> <div class="custom-block tip"><p class="custom-block-title">Vue-Router的两种路由的切换方式：</p> <ul><li><p><strong><a href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA">声明式路由导航（路由链接）</a></strong></p> <p>通过<code>&lt;router-link&gt;</code>标签实现路由切换</p></li> <li><p><strong><a href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA">编程式路由导航</a></strong></p> <p>通过 JS 代码实现路由切换</p></li></ul></div> <h3 id="声明式导航"><a href="#声明式导航" class="header-anchor">#</a> 声明式导航</h3> <p>通过点击链接，实现路由的切换</p> <p>Vue-Router提供了<code>&lt;router-link&gt;</code>标签，最终会被解析为<code>&lt;a&gt;</code> 标签</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">常用标属性</p> <ul><li><a href="#to%E5%B1%9E%E6%80%A7">to属性</a></li> <li><a href="#active-class%E5%B1%9E%E6%80%A7">active-class属性</a></li> <li><a href="#replace%E5%B1%9E%E6%80%A7">replace属性</a></li></ul></div> <hr> <h4 id="to属性"><a href="#to属性" class="header-anchor">#</a> to属性</h4> <p><code>&lt;router-link&gt;</code>标签的 <code>to属性</code> 指定要切换的路由</p> <p>最终会被解析为<code>&lt;a&gt;</code> 标签的<code>href</code>属性</p> <ul><li><strong>字符串写法</strong></li></ul> <p>适合不带参数或参数少的场合</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径/路径<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 携带参数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径?参数=值<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径?参数=值&amp;参数=值<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/list?id=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>表一<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/list?id=2&amp;type=student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>表二<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <hr> <ul><li><strong>对象写法</strong></li></ul> <p>适合有参数且参数过多的场合</p> <p>可通过 <code>path</code> 或 <code>name</code> 跳转</p> <p>传递<strong>params参数</strong>时，只能通过<code>name</code>跳转，详见 <a href="#params">路由params传参</a></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- 通过name路由名称跳转并传递query参数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  name: <span class="token punctuation">'</span>路由名称<span class="token punctuation">'</span>,
  query: {
    参数: 值,
    参数: 值
  }              
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 通过path路由路径跳转并传递query参数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  path: <span class="token punctuation">'</span>/路径/路径<span class="token punctuation">'</span>,
  query: {
    参数: 值,
    参数: 值
  }              
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 只能通过name路由名称跳转并传递params参数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  name: <span class="token punctuation">'</span>/路径/路径<span class="token punctuation">'</span>,
  parmas: {
    参数: 值,
    参数: 值
  }              
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>如下：传递query参数。参考 <a href="#query">声明式导航query传参</a></p> <div class="language-http extra-class"><pre class="language-http"><code>/about/list?id=002&amp;type=student
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  path: <span class="token punctuation">'</span>/about/list<span class="token punctuation">'</span>,
  query: {
    id: 002,
    type: student
  }
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如下：传递params参数。参考 <a href="#params">声明式导航params传参</a></p> <div class="language-http extra-class"><pre class="language-http"><code>/about/info/202/andy
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  name: <span class="token punctuation">'</span>Info<span class="token punctuation">'</span>,
  params: {
    id: 002,
    name: andy
  }
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <hr> <h4 id="active-class属性"><a href="#active-class属性" class="header-anchor">#</a> active-class属性</h4> <p><code>&lt;router-link&gt;</code>标签的<code>active-class属性</code>指定链接激活时的样式类名</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>激活时的样式类名<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Home页面
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Home页面
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <hr> <h4 id="replace属性"><a href="#replace属性" class="header-anchor">#</a> replace属性</h4> <p>开启无痕浏览</p> <p>该链接跳转的路由不被浏览器历史记录保存，无法后退访问</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">replace</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>原理：</p> <p>浏览器路由跳转默认是push压栈，会有历史记录可后退访问记录</p> <p>而replace是替换，不是push压栈，所以无痕浏览</p></blockquote> <h3 id="编程式导航"><a href="#编程式导航" class="header-anchor">#</a> 编程式导航</h3> <p>声明式路由导航的<code>&lt;router-link&gt;</code>标签最终会被解析为<code>&lt;a&gt;</code> 标签</p> <p>编程式路由导航不通过<code>&lt;router-link&gt;</code>标签跳转路由。</p> <p><strong>编程式路由导航通过路由器<code>$router</code> 实现</strong></p> <p>用于：通过<code>&lt;button&gt;</code>访问路由，获取延时自动跳转路由等</p> <div class="custom-block tip"><p class="custom-block-title">常用方法</p> <ul><li><a href="#push">push()</a></li> <li><a href="#replace">replace()</a></li> <li><a href="#go">go()</a></li> <li><a href="#back">back()</a></li> <li><a href="#forward">forward()</a></li></ul></div> <hr> <h4 id="push"><a href="#push" class="header-anchor">#</a> push</h4> <p>保存记录跳转路由</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'/路径'</span><span class="token punctuation">,</span>
  query<span class="token operator">:</span> <span class="token punctuation">{</span>
    参数<span class="token operator">:</span> 值<span class="token punctuation">,</span>
    参数<span class="token operator">:</span> 值
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'路由名称'</span><span class="token punctuation">,</span>
  query<span class="token operator">:</span> <span class="token punctuation">{</span>
    参数<span class="token operator">:</span> 值<span class="token punctuation">,</span>
    参数<span class="token operator">:</span> 值
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'路由名称'</span><span class="token punctuation">,</span>
  params<span class="token operator">:</span> <span class="token punctuation">{</span>
    参数<span class="token operator">:</span> 值<span class="token punctuation">,</span>
    参数<span class="token operator">:</span> 值
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="replace"><a href="#replace" class="header-anchor">#</a> replace</h4> <p>无痕跳转路由</p> <hr> <h4 id="go"><a href="#go" class="header-anchor">#</a> go</h4> <p>根据浏览器保存的记录，</p> <ul><li><p>前进指定个数的路由地址</p></li> <li><p>后退指定个数的路由地址</p></li> <li><p>刷新当前路由</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="back"><a href="#back" class="header-anchor">#</a> back</h4> <p>根据浏览器保存的记录，后退一个路由地址</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="forward"><a href="#forward" class="header-anchor">#</a> forward</h4> <p>根据浏览器保存的记录，前进一个路由地址</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="路由视图"><a href="#路由视图" class="header-anchor">#</a> 路由视图</h2> <p>即展示对应路由地址的组件渲染的地方</p> <p>Vue-Router通过<code>&lt;router-view&gt;</code>标签展示组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过路由规则匹配到的组件，会被渲染展示到填充位上</p> <p>浏览器地址栏跳转为指定地址时，对应的组件显示</p> <blockquote><p>如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  	<span class="token comment">&lt;!-- 左侧  导航 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left-nav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>发现音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>推荐歌单<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>最新音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>最新MV<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  	<span class="token comment">&lt;!-- 右侧  路由容器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right-main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
      
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <h2 id="路由配置项"><a href="#路由配置项" class="header-anchor">#</a> 路由配置项</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Info'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">'/info'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> Info<span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    isAuth<span class="token operator">:</span> ture<span class="token punctuation">,</span>
    needNav<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span>
      path<span class="token operator">:</span> <span class="token string">'/info/xxx'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./xxx.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ul><li><p><strong>name：路由名称</strong></p> <p>可用于 <a href="#to%E5%B1%9E%E6%80%A7">路由跳转 </a>时通过路由名称就可跳转</p></li> <li><p><strong>path：路由路径</strong></p></li> <li><p><strong>component：组件</strong></p></li> <li><p><strong>meta：路由元信息</strong></p> <p>可存放关于该路由组件的数据信息，比如：</p> <ul><li>是否显示导航栏</li> <li>是否进行<a href="#%E5%89%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB">路由守卫拦截</a></li> <li><a href="#%E5%90%8E%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB">指定页面标题</a></li></ul></li> <li><p><strong>children：子路由</strong></p></li></ul> <h3 id="嵌套路由"><a href="#嵌套路由" class="header-anchor">#</a> 嵌套路由</h3> <p>即多级路由，包含多个子路由的路由</p> <p>配置路由时将子路由放入路由的 <code>childern</code>属性</p> <blockquote><p>如下：</p> <p>一级与二级路由的访问路径</p> <div class="language-http extra-class"><pre class="language-http"><code>/home
/about
/about/item01
/about/item02
/about/item03
</code></pre></div><p>二级路由的模版</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>About页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>“/about/item01”</span><span class="token punctuation">&gt;</span></span>
        	项目一
  			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>“/about/item02”</span><span class="token punctuation">&gt;</span></span>
        	项目二
  			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>      
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>二级路由配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About<span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          path<span class="token operator">:</span> <span class="token string">'/about/item01'</span><span class="token punctuation">,</span>
      		component<span class="token operator">:</span> AboutItem01
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          path<span class="token operator">:</span> <span class="token string">'/about/item02'</span><span class="token punctuation">,</span>
      		component<span class="token operator">:</span> AboutItem02
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></blockquote> <h2 id="路由参数"><a href="#路由参数" class="header-anchor">#</a> 路由参数</h2> <div class="custom-block tip"><p class="custom-block-title">有两种传递方式：</p> <ul><li>查询字符串形式 <a href="#query">query</a></li> <li>restful风格的 <a href="#params">params</a></li></ul></div> <h3 id="query"><a href="#query" class="header-anchor">#</a> query</h3> <div class="language-http extra-class"><pre class="language-http"><code>/路径/路径?参数=值&amp;参数=值
</code></pre></div><div class="language-http extra-class"><pre class="language-http"><code>/list?id=100&amp;type=student
</code></pre></div><hr> <h4 id="接收"><a href="#接收" class="header-anchor">#</a> 接收</h4> <p>直接通过挂载到路由组件对象实例上的<code>this.$route.query</code>获取</p> <p>模版中通过<code>$route.query</code>获取</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>参数名

<span class="token punctuation">{</span><span class="token punctuation">{</span> $route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>参数名 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>但是获取的都是字符串</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">/</span>list<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">101</span><span class="token operator">&amp;</span>name<span class="token operator">=</span>andy

<span class="token punctuation">{</span> 
  <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;101&quot;</span><span class="token punctuation">,</span> 
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;andy&quot;</span> 
<span class="token punctuation">}</span>
</code></pre></div><hr> <h4 id="传递-声明式导航"><a href="#传递-声明式导航" class="header-anchor">#</a> 传递 — 声明式导航</h4> <ul><li><strong>字符串写法</strong></li></ul> <p>详见 <a href="#to%E5%B1%9E%E6%80%A7">声明式导航 to属性</a></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径?参数=值<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径/路径?参数=值&amp;参数=值<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/list?id=202&amp;type=students<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <ul><li><strong>对象写法</strong></li></ul> <p>详见 <a href="#to%E5%B1%9E%E6%80%A7">声明式导航 to属性</a></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  path: <span class="token punctuation">'</span>/路径/路径<span class="token punctuation">'</span>,
  query: {
    参数: 值,
    参数: 值          
  }             
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  name: <span class="token punctuation">'</span>路由名称<span class="token punctuation">'</span>,
  query: {
    参数: 值,
    参数: 值          
  }             
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
  path: <span class="token punctuation">'</span>/info/syudents<span class="token punctuation">'</span>,
  query: {
    id: 202,
    name: andy          
  }             
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <h3 id="params"><a href="#params" class="header-anchor">#</a> params</h3> <div class="language-http extra-class"><pre class="language-http"><code>/路径/参数
/路径/路径/参数/参数
</code></pre></div><div class="language-http extra-class"><pre class="language-http"><code>/list/students
/about/list/a202/andy
</code></pre></div><hr> <h4 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h4> <p>传递的参数的个数、名称必须路由配置项中的参数一致才能匹配</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> 路由名称<span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">'/路径/:参数'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> 路由组件<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../views/About.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'About'</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About<span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
      	<span class="token punctuation">{</span>
     	 		name<span class="token operator">:</span> <span class="token string">'List'</span>
      		path<span class="token operator">:</span> <span class="token string">'/about/list/:class/:name'</span><span class="token punctuation">,</span>
      		<span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/About/List.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    		<span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></blockquote> <hr> <h4 id="传递-声明式导航-2"><a href="#传递-声明式导航-2" class="header-anchor">#</a> 传递 — 声明式导航</h4> <ul><li><strong>字符串写法</strong></li></ul> <p>详见 <a href="#to%E5%B1%9E%E6%80%A7">声明式导航 to属性</a></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径/参数<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/路径/路径/参数/参数<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><strong>对象写法</strong></li></ul> <p>params传参若是通过声明式导航的对象写法时，只能通过<code>name</code></p> <p>详见 <a href="#to%E5%B1%9E%E6%80%A7">声明式导航 to属性</a></p> <blockquote><p>如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/list/students<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about/info/202/andy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 对象写法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
 	name: <span class="token punctuation">'</span>Info<span class="token punctuation">'</span>,
  params: {
    id: 002,
    name: andy
	}                 
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></blockquote> <hr> <h4 id="接收-2"><a href="#接收-2" class="header-anchor">#</a> 接收</h4> <p>直接通过挂载到路由组件对象实例上的<code>this.$route.params</code>获取</p> <p>模版中通过<code>$route.params</code>获取</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>参数

<span class="token punctuation">{</span><span class="token punctuation">{</span> $route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>参数 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="props-接收参数"><a href="#props-接收参数" class="header-anchor">#</a> props 接收参数</h3> <p>用于接收路由参数，将路由参数作为<code>props属性</code>放于组件实例对象</p> <blockquote><p>若路由参数个数特别多的话，逐个获取的话太烦琐</p> <p>如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>name
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
<span class="token operator">...</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span>params<span class="token punctuation">.</span>name
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title
<span class="token operator">...</span>
</code></pre></div></blockquote> <p>所以，可通过给路由配置<code>props配置项</code>，将该路由组件接收的参数以<code>prop属性</code>的形式放于该组件的实例对象上，组件通过<code>props属性</code>接收后便可模版中便可简单获取</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ id }}{{ name }}{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><hr> <div class="custom-block tip"><p class="custom-block-title">props配置项 分别处理不同的路由参数：</p> <ul><li><p><code>props</code>值为 <strong>true</strong> 时，处理 <strong>query</strong> 参数</p></li> <li><p><code>props</code>值为 <strong>函数</strong> 时，处理 <strong>params</strong> 参数</p></li></ul></div> <h4 id="props值为true"><a href="#props值为true" class="header-anchor">#</a> props值为true</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'组件名'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">'/路径/:参数/:参数'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>若props是true，</p> <p>则该路由组件接收的所有<strong>params参数</strong>，会以<code>props</code>的形式放于该组件的实例对象上</p> <hr> <h4 id="props值为函数"><a href="#props值为函数" class="header-anchor">#</a> props值为函数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'组件名'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">'/路径'</span><span class="token punctuation">,</span>
  <span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">$route</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> 
    	参数<span class="token operator">:</span> $route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>参数<span class="token punctuation">,</span>
      参数<span class="token operator">:</span> $route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>参数
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>若props是函数，</p> <p>则该路由组件接收的所有<strong>query参数</strong>，会以props的形式放于该组件的实例对象上</p> <p>函数将获取的query参数作为一个对象返回</p> <blockquote><p>可用解构赋值的连续写法简写</p> <p>但语义不清晰不是特别建议</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>query<span class="token operator">:</span><span class="token punctuation">{</span>id<span class="token punctuation">,</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>id<span class="token punctuation">,</span>name<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></blockquote> <h2 id="缓存路由组件"><a href="#缓存路由组件" class="header-anchor">#</a> 缓存路由组件</h2> <p>路由组件的切换是组件挂载、组件销毁的切换，</p> <p>会导致路由切换后，路由组件的真实DOM中保存的数据丢失</p> <p>比如，表单内容会被清空</p> <h3 id="keep-alive-缓存路由组件"><a href="#keep-alive-缓存路由组件" class="header-anchor">#</a> keep-alive 缓存路由组件</h3> <p>可通过 <strong><code>&lt;keep-alive&gt;&lt;/keep-alive&gt;标签</code></strong> 包裹该路由组件的路由视图标签</p> <p>使不展示的路由组件保持挂载，不被销毁</p> <hr> <h4 id="缓存所有路由组件"><a href="#缓存所有路由组件" class="header-anchor">#</a> 缓存所有路由组件</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
   	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><hr> <h4 id="缓存指定路由组件"><a href="#缓存指定路由组件" class="header-anchor">#</a> 缓存指定路由组件</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
   	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>“路由组件名”</span><span class="token punctuation">&gt;</span></span>
  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><hr> <h4 id="缓存多个路由组件"><a href="#缓存多个路由组件" class="header-anchor">#</a> 缓存多个路由组件</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
   	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">:include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>“[路由组件名,路由组件名]”</span><span class="token punctuation">&gt;</span></span>
  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="路由新增生命周期"><a href="#路由新增生命周期" class="header-anchor">#</a> 路由新增生命周期</h3> <p>若使用<code>&lt;keep-alived&gt;</code> 标签缓存路由组件，</p> <p>会使不展示的路由组件保持挂载，不被销毁</p> <p>因为不被销毁会导致比如：清除定时器、解绑事件等 无处使用</p> <p>所以Vue-Router新增两个生命周期函数来<strong>捕获路由组件的激活状态</strong></p> <ul><li>activated</li> <li>deactivated</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  
  <span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">activated 与 deactivated</p> <ul><li><p><strong>activated</strong></p> <p>路由组件被激活时调用，类似<code>mounted</code></p></li> <li><p><strong>deactivated</strong></p> <p>路由组件失活时调用，类似<code>destoryed</code></p></li></ul></div> <h2 id="路由守卫-重要"><a href="#路由守卫-重要" class="header-anchor">#</a> 路由守卫（重要）</h2> <p>对路由进行权限控制</p> <h3 id="全局守卫"><a href="#全局守卫" class="header-anchor">#</a> 全局守卫</h3> <p>每次切换路由路径，对应的路由组件会被展示</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routers<span class="token operator">:</span><span class="token punctuation">[</span>
 		<span class="token punctuation">{</span> <span class="token comment">/* 路由配置 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token comment">/* 路由配置 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  
<span class="token comment">// 前置路由守卫</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 后置路由守卫</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="前置路由守卫"><a href="#前置路由守卫" class="header-anchor">#</a> 前置路由守卫</h4> <p>在路由切换前调用</p> <p>可用于登陆token验证、路由切换前跳滚动页面...</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token comment">// 判断</span>
  
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">参数：</p> <ul><li><p><strong>from</strong>：跳转去哪个路由</p></li> <li><p><strong>to</strong>：从哪个路由跳转来</p></li> <li><p><strong>next</strong>：调用后放行，否则不进行路由跳转</p></li></ul></div> <blockquote><p>如下：</p> <p>在跳转到 <code>/user</code>或  <code>/cart</code>路径前判断localStorage中是否存有 用户登陆的 <code>token</code></p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token operator">===</span><span class="token string">'/user'</span><span class="token operator">||</span>to<span class="token punctuation">.</span>path<span class="token operator">===</span><span class="token string">'/cart'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>localstorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'尚未登陆'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>若路由数量过多，可通过路由配置项<code>meta</code>元数据判断</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>needGuard<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>localstorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'尚未登陆'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></blockquote> <hr> <h4 id="后置路由守卫"><a href="#后置路由守卫" class="header-anchor">#</a> 后置路由守卫</h4> <p>在路由切换后调用，</p> <p>可通过路由配置项<code>meta</code>元数据追加浏览器的页面标题</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token comment">// 处理</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">参数：</p> <ul><li><p><strong>from</strong>：跳转去哪个路由</p></li> <li><p><strong>to</strong>：从哪个路由跳转来</p> <p>不需要放行，没有next参数</p></li></ul></div> <blockquote><p>如下：</p> <p>判断路由配置项的元信息<code>meta</code>中的title<br>
若存在则路由跳转后将浏览器页面标题改为title，否则使用xxx</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>tite <span class="token operator">||</span> <span class="token string">'xxx'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></blockquote> <h3 id="独享守卫"><a href="#独享守卫" class="header-anchor">#</a> 独享守卫</h3> <p>某一个路由独享的路由守卫</p> <p>独享路由守卫只有只能在路由路径切换前进行守卫</p> <p>写法和全局路由守卫的 <a href="#%E5%89%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB">前置路由守卫</a> 一致</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'XXX'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">'/xxx'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'.XXX.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
  <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 判断</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="组件内守卫"><a href="#组件内守卫" class="header-anchor">#</a> 组件内守卫</h3> <p>可用于单独给组件指定路由权限，不太常用</p> <p>可以在路由组件内直接定义以下路由导航守卫</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  
  <span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;will enter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token function">beforeRouteLeave</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;will leave&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 该组件的实例对象</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">参数：两种组件路由导航守卫：</p> <ul><li><p><strong>beforeRouteEnter：进入守卫</strong><br>
通过路由导航切换路由地址，在 <strong>进入该路由地址前</strong> 调用<br>
无法获取 this</p></li> <li><p><strong>beforeRouteLeave：离开守卫</strong><br>
通过路由导航切换路由地址，在 <strong>离开该路由地址前</strong> 调用<br>
可获取 this，this 指向该组件的实例对象</p></li></ul></div> <h2 id="其余补充"><a href="#其余补充" class="header-anchor">#</a> 其余补充</h2> <h3 id="防止重复点击相同路由"><a href="#防止重复点击相同路由" class="header-anchor">#</a> 防止重复点击相同路由</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/router/index.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">// 防止重复点击相同路由</span>
<span class="token keyword">const</span> VueRouterPush <span class="token operator">=</span> <span class="token class-name">VueRouter</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push
<span class="token class-name">VueRouter</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">VueRouterPush</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="过渡动画切换路由"><a href="#过渡动画切换路由" class="header-anchor">#</a> 过渡动画切换路由</h3> <p>给<code>&lt;router-view&gt;</code>标签包裹上Vue的过渡动画标签<code>&lt;transition&gt;</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>详见 <a href="https://cn.vuejs.org/v2/guide/transitions.html" target="_blank" rel="noopener noreferrer">Vue组件过渡动画<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <h3 id="路由切换前页面滚回顶部"><a href="#路由切换前页面滚回顶部" class="header-anchor">#</a> 路由切换前页面滚回顶部</h3> <p>利用全局路由守卫的前置守卫</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 每次跳转回到页面顶部</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// chrome</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token comment">// firefox</span>
  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token comment">// safari</span>
  window<span class="token punctuation">.</span>pageYOffset <span class="token operator">=</span> <span class="token number">0</span>
  
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/19/2021, 4:23:58 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress-studynotes/assets/js/app.3908c0c2.js" defer></script><script src="/vuepress-studynotes/assets/js/2.4e3782e5.js" defer></script><script src="/vuepress-studynotes/assets/js/61.d8af299a.js" defer></script>
  </body>
</html>
